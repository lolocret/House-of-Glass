/* style.css â€” minimal styles for The House of Glass intro and narration */
html,body{
  height:100%;
  margin:0;
  font-family: Inter, SF Pro Display, -apple-system, system-ui, 'Helvetica Neue', Arial;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  background:
    radial-gradient(1200px at 20% 20%, rgba(104,159,255,0.16), transparent 50%),
    radial-gradient(900px at 80% 10%, rgba(168,116,255,0.14), transparent 45%),
    linear-gradient(160deg, #0c1426 0%, #0f1f38 45%, #0c1528 100%);
}

.sr-audio{ display:none; }

.intro{
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  background:
    radial-gradient(1200px at 40% 25%, rgba(255,255,255,0.6), transparent 60%),
    linear-gradient(160deg, #e5edf7 0%, #ccd5e4 55%, #dce5f1 100%);
  backdrop-filter: blur(18px) saturate(1.05);
  transition: opacity 0.9s ease, transform 0.9s ease;
  z-index:20;
}

.intro.fade-out{
  opacity:0;
  transform: translateY(-20px) scale(0.995);
}

.intro-card{
  text-align:center;
  padding:32px 40px;
  border-radius:32px;
  box-shadow: 0 20px 50px rgba(22,27,35,0.18);
  background: rgba(255,255,255,0.68);
  border: 1px solid rgba(255,255,255,0.65);
  backdrop-filter: blur(35px) saturate(180%);
}

.title{
  margin:0 0 8px 0;
  font-size:30px;
  letter-spacing:0.8px;
  color:#121e2f;
}
.subtitle{
  margin:0 0 18px 0;
  color:#3e4d60;
  font-size:14px;
}

/* Liquid glass buttons */
.liquid-glass-btn,
.info-panel__cta button,
.hud-bar__nav button,
.hud-bar__btn,
.teleport__grid button,
.moon-chat__form button,
.story-panel__cta,
#voiceToggle,
#muteToggle,
.enter{
  padding:14px 28px;
  border-radius:18px;
  border:1px solid rgba(255,255,255,0.2);
  background: rgba(255,255,255,0.04);
  backdrop-filter: blur(26px) saturate(200%);
  -webkit-backdrop-filter: blur(26px) saturate(200%);
  box-shadow:
    inset 0 1px 1px rgba(255,255,255,0.28),
    inset 0 -1px 1px rgba(0,0,0,0.18),
    0 10px 24px rgba(0,0,0,0.18);
  color:#ffffff;
  font-weight:500;
  font-size:16px;
  transition: all 0.3s ease;
  cursor:pointer;
  min-height:44px;
}
.liquid-glass-btn:hover,
.info-panel__cta button:hover,
.hud-bar__nav button:hover,
.hud-bar__btn:hover,
.teleport__grid button:hover,
.moon-chat__form button:hover,
.story-panel__cta:hover,
#voiceToggle:hover,
#muteToggle:hover,
.enter:hover{
  background: rgba(255,255,255,0.08);
  box-shadow:
    inset 0 2px 2px rgba(255,255,255,0.35),
    inset 0 -2px 2px rgba(0,0,0,0.25),
    0 14px 28px rgba(0,0,0,0.2);
  transform: translateY(-1px);
}
.liquid-glass-btn:active,
.info-panel__cta button:active,
.hud-bar__nav button:active,
.hud-bar__btn:active,
.teleport__grid button:active,
.moon-chat__form button:active,
.story-panel__cta:active,
#voiceToggle:active,
#muteToggle:active,
.enter:active{
  transform: scale(0.97);
  background: rgba(255,255,255,0.06);
}
.liquid-glass-btn.blue,
.info-panel__cta button.blue,
.hud-bar__nav button.blue,
.hud-bar__btn.blue,
.teleport__grid button.blue,
.moon-chat__form button.blue,
.story-panel__cta.blue,
#voiceToggle.blue,
#muteToggle.blue,
.enter.blue{
  background: rgba(52,120,246,0.22);
  border-color: rgba(52,120,246,0.4);
}
.liquid-glass-btn.blue:hover,
.info-panel__cta button.blue:hover,
.hud-bar__nav button.blue:hover,
.hud-bar__btn.blue:hover,
.teleport__grid button.blue:hover,
.moon-chat__form button.blue:hover,
.story-panel__cta.blue:hover,
#voiceToggle.blue:hover,
#muteToggle.blue:hover,
.enter.blue:hover{
  background: rgba(52,120,246,0.25);
}
.hint{ margin-top:10px; font-size:12px; color:#5c6b7d; }
/* narration */
.narration{
  position: fixed;
  left: 50%;
  bottom: 6vh;
  transform: translateX(-50%);
  padding: 10px 18px;
  border-radius: 999px;
  background: linear-gradient(90deg, rgba(255,255,255,0.06), rgba(230,245,255,0.05));
  color: #062833;
  font-size:16px;
  backdrop-filter: blur(6px);
  transition: opacity 0.45s ease, transform 0.45s ease;
  opacity: 0;
  z-index: 15;
}
.narration.visible{ opacity: 1; transform: translateX(-50%) translateY(-6px); }

/* ensure canvas sits under overlays */
canvas{ display:block; position:fixed; inset:0; z-index:1; }

/* HUD */
.hud{ position:fixed; inset:0; pointer-events:none; z-index:12; }

/* subtle glitch overlay */
.glitch{ position:fixed; inset:0; mix-blend-mode:overlay; pointer-events:none; }

.info-panel{
  position:fixed;
  left:24px;
  top:20px;
  width:320px;
  padding:16px 18px;
  border-radius:18px;
  background: rgba(255,255,255,0.05);
  color:#e6f8ff;
  box-shadow: 0 18px 38px rgba(6,12,26,0.25), inset 0 1px 0 rgba(255,255,255,0.14);
  border:1px solid rgba(255,255,255,0.18);
  backdrop-filter: blur(28px) saturate(180%);
  z-index:18;
  opacity:0;
  pointer-events:none;
  transition: opacity 0.35s ease, transform 0.35s ease;
}
.info-panel.info-panel--active{
  background: rgba(255,255,255,0.07);
  box-shadow: 0 24px 48px rgba(6,20,46,0.35);
}
.info-panel__badge{
  margin:0;
  font-size:12px;
  letter-spacing:1.4px;
  text-transform:uppercase;
  color:#9fccf2;
}
.info-panel h2{
  margin:6px 0;
  font-size:22px;
  letter-spacing:0.4px;
}
.info-panel p{
  margin:0;
  color:#d9f0ff;
  font-size:14px;
}
.info-panel ul{
  margin:14px 0 0 14px;
  padding:0 0 0 12px;
  color:#dff4ff;
  font-size:14px;
  line-height:1.5;
}
.info-dynamic{
  margin-top:16px;
  padding:12px 14px;
  border-radius:14px;
  background: linear-gradient(140deg, rgba(72,122,178,0.22), rgba(118,196,255,0.18));
  color:#f3fbff;
  font-size:13px;
  line-height:1.45;
  min-height:48px;
  border:1px solid rgba(144,210,255,0.3);
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.16);
}
.info-dynamic h3{
  margin:0 0 6px 0;
  font-size:14px;
  letter-spacing:0.4px;
  text-transform:uppercase;
  color:#b7e5f7;
}
.info-dynamic p{
  margin:4px 0;
}
.info-panel__cta{
  margin-top:16px;
}
.info-panel__cta button{
  width:100%;
  display:block;
}

.enter{
  font-weight:700;
  color:#000000;
}

.teleport{
  display:none;
}
.teleport__title{
  margin:0 0 8px 0;
  font-size:13px;
  letter-spacing:0.6px;
  text-transform:uppercase;
  color:#2c4b60;
}
.teleport__grid{
  display:grid;
  grid-template-columns: repeat(2, 1fr);
  gap:8px;
}
.teleport__grid button{
  font-size:12px;
  text-align:center;
}

.voice-toggle{
  display:none;
}

.hud-bar{
  position:fixed;
  left:16px;
  right:16px;
  bottom:16px;
  display:flex;
  flex-direction:column;
  gap:8px;
  padding:12px 16px;
  border-radius:16px;
  background: rgba(255,255,255,0.04);
  color:#e9f4ff;
  box-shadow: 0 16px 42px rgba(5,12,28,0.35), inset 0 1px 0 rgba(255,255,255,0.12);
  border:1px solid rgba(255,255,255,0.15);
  backdrop-filter: blur(26px) saturate(180%);
  opacity:0;
  pointer-events:none;
  z-index:22;
  transition: opacity 0.35s ease, transform 0.35s ease;
}
.hud-bar__controls{
  font-size:13px;
  letter-spacing:0.4px;
  color:#b9d6f9;
}
.hud-bar__actions{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:12px;
}
.hud-bar__select{
  padding:8px 10px;
  border-radius:12px;
  border:1px solid rgba(108,189,255,0.35);
  background: linear-gradient(140deg, rgba(39,78,122,0.8), rgba(52,104,158,0.8));
  color:#e6f3ff;
  font-size:13px;
  outline:none;
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.16);
}
.hud-bar__nav{
  display:flex;
  flex-wrap:wrap;
  gap:10px;
}
.hud-bar__nav button.active{
  background: linear-gradient(150deg, rgba(178,220,255,0.3), rgba(162,188,255,0.28));
  color:#0b1f38;
  border-color: rgba(255,255,255,0.38);
  box-shadow: 0 14px 26px rgba(24,96,180,0.45), inset 0 1px 0 rgba(255,255,255,0.28);
}

.info-bubble{
  position:fixed;
  right:20px;
  bottom:120px;
  max-width:320px;
  padding:14px 14px 12px 14px;
  border-radius:16px;
  background: linear-gradient(150deg, rgba(22,46,84,0.92), rgba(18,38,70,0.9));
  color:#e8f7ff;
  box-shadow: 0 16px 34px rgba(5,10,24,0.38), inset 0 1px 0 rgba(255,255,255,0.14);
  border:1px solid rgba(108,189,255,0.22);
  backdrop-filter: blur(18px);
  z-index:24;
  display:none;
}
.info-bubble.visible{ display:block; }
.info-bubble h3{ margin:0 0 6px 0; font-size:16px; }
.info-bubble p{ margin:4px 0; font-size:13px; color:#d7ecff; line-height:1.35; }
.info-bubble__hint{ font-size:12px; color:#9cc8e2; }
.info-bubble__close{
  position:absolute;
  top:6px;
  right:8px;
  border:none;
  background:transparent;
  color:#e8f7ff;
  font-size:16px;
  cursor:pointer;
}

.moon-chat{
  display:flex;
  flex-direction:column;
  gap:8px;
  margin-top:4px;
}
.moon-chat__messages{
  max-height:240px;
  overflow:auto;
  padding:10px;
  border-radius:12px;
  background: linear-gradient(135deg, rgba(34,64,104,0.35), rgba(26,52,88,0.32));
  border:1px solid rgba(108,189,255,0.22);
  display:flex;
  flex-direction:column;
  gap:8px;
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.08);
}
.moon-chat__message{
  padding:8px 10px;
  border-radius:12px;
  line-height:1.35;
  font-size:13px;
  background: linear-gradient(120deg, rgba(62,108,168,0.3), rgba(52,96,152,0.24));
  border:1px solid rgba(108,189,255,0.18);
  color:#e8f7ff;
  box-shadow: 0 6px 14px rgba(5,10,24,0.25);
}
.moon-chat__message--user{
  align-self:flex-end;
  background: linear-gradient(130deg, rgba(144,210,255,0.9), rgba(132,169,255,0.85));
  color:#0c1d34;
  border: none;
}
.moon-chat__form{
  display:flex;
  gap:6px;
}
.moon-chat__form input{
  flex:1;
  padding:9px 10px;
  border-radius:12px;
  border:1px solid rgba(108,189,255,0.28);
  background: rgba(20,36,64,0.6);
  color:#e8f7ff;
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.08);
}
.moon-chat__form input::placeholder{ color: rgba(232,247,255,0.7); }
.moon-chat__form button{
  padding:10px 16px;
  font-weight:600;
}

@media (max-width:600px){
  .teleport{
    right:12px;
    top:12px;
    width:calc(100% - 24px);
  }
  .nav-dots{ display:none; }
}
.teleport{
  position:fixed;
  right:24px;
  top:24px;
  width:200px;
  padding:14px 16px;
  border-radius:14px;
  background: rgba(255,255,255,0.75);
  box-shadow: 0 10px 30px rgba(9,28,44,0.12);
  border:1px solid rgba(255,255,255,0.6);
  backdrop-filter: blur(10px);
  z-index:16;
}
.teleport__title{
  margin:0 0 8px 0;
  font-size:13px;
  letter-spacing:0.6px;
  text-transform:uppercase;
  color:#2c4b60;
}
.teleport__grid{
  display:grid;
  grid-template-columns: repeat(2, 1fr);
  gap:8px;
}
.teleport__grid button{
  padding:8px 6px;
  font-size:12px;
  border-radius:10px;
  border:none;
  background: linear-gradient(90deg,#e8f5ff,#f7e8ff);
  color:#0b2d3c;
  cursor:pointer;
  box-shadow: 0 6px 14px rgba(9,28,44,0.12);
}

.story-panel{
  display:none;
}
.story-panel__badge{
  margin:0;
  font-size:12px;
  letter-spacing:1.5px;
  text-transform:uppercase;
  color:#7fb5cc;
}
.story-panel h2{
  margin:8px 0;
  font-size:24px;
  letter-spacing:0.3px;
}
.story-panel p{
  margin:0;
  font-size:15px;
  line-height:1.5;
}
.story-panel__cta{
  margin-top:16px;
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding:0 18px;
}
.story-panel__prompt{
  margin-top:10px;
  font-size:13px;
  color:#cfe4f3;
}
.story-panel__cta:disabled{
  opacity:0.4;
  cursor:not-allowed;
}

@media (max-width:600px){
  .intro-card{ padding:22px; }
  .title{ font-size:20px; }
  .info-panel{
    position:fixed;
    width:calc(100% - 24px);
    left:12px;
    right:12px;
    top:12px;
    padding:16px;
  }
  .story-panel{
    position:fixed;
    top:auto;
    right:12px;
    left:12px;
    bottom:120px;
    width:auto;
    padding:18px;
  }
  .nav-dots{
    flex-direction:row;
    left:12px;
    bottom:12px;
  }
}

/* Tutorial Styles */
.tutorial-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.5);
  backdrop-filter: blur(4px);
  z-index: 50;
  pointer-events: auto;
}

.tutorial-modal {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: linear-gradient(135deg, rgba(20, 50, 100, 0.95), rgba(15, 35, 70, 0.95));
  border: 1px solid rgba(100, 180, 255, 0.3);
  border-radius: 20px;
  padding: 40px;
  max-width: 500px;
  width: 90%;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(20px);
  z-index: 51;
  animation: slideIn 0.4s ease-out;
}

@keyframes slideIn {
  from {
    opacity: 0;
    transform: translate(-50%, -45%);
  }
  to {
    opacity: 1;
    transform: translate(-50%, -50%);
  }
}

.tutorial-modal h2 {
  margin: 0 0 16px 0;
  font-size: 28px;
  color: #fff;
  text-align: center;
}

.tutorial-modal p {
  margin: 0 0 24px 0;
  font-size: 16px;
  line-height: 1.6;
  color: #d7ecff;
  text-align: center;
}

.tutorial-buttons {
  display: flex;
  gap: 12px;
  justify-content: center;
}

.tutorial-btn-next {
  padding: 12px 32px;
  background: linear-gradient(135deg, rgba(74, 150, 255, 0.9), rgba(60, 130, 255, 0.85));
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 10px;
  color: #fff;
  font-weight: 600;
  font-size: 14px;
  cursor: pointer;
  transition: all 0.3s ease;
}

.tutorial-btn-next:hover {
  background: linear-gradient(135deg, rgba(90, 170, 255, 0.95), rgba(75, 150, 255, 0.9));
  transform: translateY(-2px);
}

.tutorial-btn-skip {
  padding: 12px 24px;
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 10px;
  color: #9cc8e2;
  font-size: 14px;
  cursor: pointer;
  transition: all 0.3s ease;
}

.tutorial-btn-skip:hover {
  background: rgba(255, 255, 255, 0.1);
  color: #d7ecff;
}
